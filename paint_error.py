import re

import matplotlib
import matplotlib.pyplot as plt

# x = ['1', '5', '10', '15', '30', '75', '150', '300', '500', '1000']
# x_label = 'Embedding Dim'

# y1 = [0.65,0.5671,0.5222,0.4716,0.4244,0.3624,0.3188,0.2931,0.2828,0.3045]
# y2 = [0.9062,1.0557,0.7631,0.6297,0.6586,0.7656,0.9499,1.1215,1.0399,1.1629]
# title = 'BACE'

# y1 = [0.4233,0.3374,0.281,0.2652,0.226,0.1731,0.1542,0.1344,0.1268,0.1198]
# y2 = [0.9808,0.6034,0.7255,0.6828,0.6204,0.8208,0.8045,0.8622,0.9369,0.8748]
# title = 'BBBP'

# y1 = [0.2632,0.2515,0.2372,0.2167,0.2036,0.1801,0.1712,0.1682,0.1652,0.1649]
# y2 = [0.1716,0.1616,0.1693,0.1641,0.1566,0.1637,0.176,0.1846,0.1856,0.1975]
# title = 'clintox'

# y1 = [0.5209,0.5104,0.5009,0.4968,0.4814,0.4534,0.4197,0.39,0.3874,0.4039]
# y2 = [0.4957,0.4906,0.4895,0.492,0.4886,0.4839,0.5077,0.5289,0.5488,0.5294]
# title = 'sider'

# y1 = [0.234,0.2177,0.2027,0.1959,0.1841,0.1629,0.1434,0.1231,0.1104,0.0898]
# y2 = [0.2977,0.2761,0.2711,0.2724,0.2693,0.2676,0.2892,0.3197,0.3527,0.3754]
# title = 'tox21'

# y1 = [0.2225, 0.2122, 0.2065, 0.2012, 0.193, 0.1796, 0.1691, 0.1596, 0.1607, 0.1538]
# y2 = [0.2698, 0.2614, 0.2606, 0.2608, 0.2578, 0.2645, 0.2677, 0.2818, 0.2864, 0.2928]
# title = 'toxcast'

x = ['2', '3', '15', '30', '60', '150', '300', '600', '900', '1500', '3000']
x_label = 'Middle Dim'

# y1 = [0.672, 0.4227, 0.2498, 0.2157, 0.1777, 0.1498, 0.1457, 0.1388, 0.133, 0.1452, 0.1413]
# y2 = [0.9006, 0.8558, 1.1368, 1.2987, 1.2608, 1.6556, 1.7037, 1.7508, 1.933, 1.8244, 1.6465]
# title = 'BACE'

# y1 = [0.3586,0.2567,0.1159,0.0739,0.0575,0.0464,0.0441,0.0471,0.0432,0.0405,0.0491]
# y2 = [0.7106,0.5009,0.8839,1.2848,1.3683,1.7808,1.6793,1.6126,1.6289,1.7392,1.7224]
# title = 'BBBP'
#
# y1 = [0.2344,0.2288,0.1729,0.1597,0.1563,0.1597,0.1646,0.168,0.163,0.1651,0.1732]
# y2 = [0.1759,0.1775,0.168,0.1829,0.1792,0.187,0.2006,0.1927,0.1984,0.2038,0.1958]
# title = 'clintox'
#
# y1 = [0.5236,0.4869,0.4211,0.3703,0.3157,0.229,0.1783,0.1481,0.1881,0.1568,0.1307]
# y2 = [0.5581,0.4881,0.4964,0.5447,0.616,0.7587,0.9299,1.0525,0.8479,0.9495,1.0466]
# title = 'sider'
#
# y1 = [0.225,0.1936,0.1536,0.1267,0.1069,0.0782,0.0628,0.0528,0.044,0.0422,0.0478]
# y2 = [0.291,0.2726,0.2869,0.2987,0.3549,0.4119,0.4585,0.5139,0.6043,0.6177,0.5704]
# title = 'tox21'
#
y1 = [0.2156,0.2018,0.1726,0.1578,0.1453,0.1272,0.116,0.1079,0.1034,0.0976,0.0987]
y2 = [0.2632,0.2664,0.2708,0.2854,0.3045,0.3222,0.3428,0.3533,0.3733,0.3909,0.3668]
title = 'toxcast'

plt.rc('font', family="Times New Roman")
matplotlib.rcParams['pdf.fonttype'] = 42
matplotlib.rcParams['ps.fonttype'] = 42
plt.figure(figsize=(12, 6))

plt.ylim(ymax=max(y2 + y1) * 1.1, ymin=0)

fontsize = 25
plt.grid(linestyle='-.', linewidth=1)
ax = plt.gca()
ax.spines['bottom'].set_linewidth(2)
ax.spines['left'].set_linewidth(2)
ax.spines['right'].set_linewidth(2)
ax.spines['top'].set_linewidth(2)

plt.plot(x, y1, '-o', ms=10, label='Training', linewidth=4, color='red')
plt.plot(x, y2, '-o', ms=10, label='Test', linewidth=4, color='green')

plt.xlabel(x_label, fontsize=30)
plt.xticks(x, fontsize=fontsize)
plt.ylabel('Error', fontsize=30)
plt.legend(fontsize=30)
plt.yticks(fontsize=fontsize)

plt.yticks(fontsize=fontsize)
# plt.title(title, fontsize=30)
plt.legend(fontsize=30, loc="lower left")

plt.tight_layout()
# plt.show()
plt.savefig('/Users/lishengrui/Desktop/工作/研究/AdapterGNN/{}_middle.pdf'.format(title), format='pdf', dpi=300, pad_inches=0)
